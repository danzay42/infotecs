# HTTP-сервер для предоставления информации по географическим объектам

Для работы пакета нужен python>=3.10, pip

## Установка
```
pip intall fastapi="^0.88.0" uvicorn="^0.20.0" pytz="^2022.7"
```

## Запуск
Для запуска необходим файл RU.txt c исходными данными.
```
python3 script.py
```
!Запуск может занять время, вследствии обработки файла.

## Описание
Т.к. сервис выполнен на FastAPI основное описание API можно найти:
 - http://127.0.0.1:8000/redoc
 - http://127.0.0.1:8000/docs

### Методы
 - http://127.0.0.1:8000/info?id={geonameid}  
 Пример: http://127.0.0.1:8000/info?id=451749  
 возвращает детальную информацию о обекте geonameid;
 
 - http://127.0.0.1:8000/?page={p}&limit={l}  
 Пример: http://127.0.0.1:8000/?page=0&limit=10  
 возвращает список обектов размером l и со станицы p;
 
 - http://127.0.0.1:8000/diff?name_1={t1}&name_2={t2}  
 Пример: http://127.0.0.1:8000/diff?name_1=%D0%A2%D0%BE%D0%BC%D1%81%D0%BA&name_2=%D0%9C%D0%BE%D1%81%D0%BA%D0%B2%D0%B0  
 возвращает информацию о каждом из городов t1 и t2, а также какой город севернее: "north", есть ли разница во времени: "is_same_time" и величина разницы: "timezone_diff" выраженная в разнице времени между вторым и первым городом;
 
 - http://127.0.0.1:8000/help?name_part={name_part}&limit=10  
 Пример: http://127.0.0.1:8000/help?name_part=%D0%A2%D0%BE%D0%BC&limit=10  
 возвращает список с возможными названиями городов, начинающихся с name_part.

